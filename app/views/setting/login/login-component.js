"use strict";
var core_1 = require("@angular/core");
var router_1 = require("@angular/router");
var router_2 = require("nativescript-angular/router");
var http = require("http");
var Toast = require("nativescript-toast");
var LoginComponent = (function () {
    function LoginComponent(router, routerExtensions) {
        this.router = router;
        this.routerExtensions = routerExtensions;
        this.username = "";
        this.password = "";
        this.strURL = "http://192.9.9.112:30";
        var self = this;
    }
    LoginComponent.prototype.btnLogin = function () {
        var self = this;
        var checkEmpty = self.checkEmpty();
        console.log("empty word  ==>", checkEmpty);
        if (checkEmpty == true) {
            http.request({
                url: self.strURL + "/login/" + self.username + "/" + self.password,
                method: "GET"
            }).then(function (response) {
                var statusCode = response.statusCode;
                console.log("status code => ", statusCode);
                if (statusCode != 200) {
                    var toast = Toast.makeText("ไม่มี user และ password นี้ในระบบ");
                    toast.show();
                }
                else {
                    var obj = response.content.toJSON();
                    console.log(JSON.stringify(obj));
                    self.routerExtensions.navigate(["./main"], { clearHistory: true });
                } //end else statusCode
            }, function (e) {
                console.log("error is ", e);
            });
        } // End if checkEmpty
    };
    LoginComponent.prototype.myResultReturn = function () {
    };
    LoginComponent.prototype.btnCheck = function () {
        var self = this;
        var result;
        http.request({
            url: self.strURL + "/users/1",
            method: "GET"
        }).then(function (response) {
            var obj = response.content.toJSON();
            var statusCode = response.statusCode;
            console.log("status code => ", statusCode);
            console.log(JSON.stringify(obj));
        }, function (e) {
            console.log("error is ", e);
        });
    };
    LoginComponent.prototype.httpLogin = function () {
        console.log("on => http Login");
        var self = this;
    };
    LoginComponent.prototype.checkEmpty = function () {
        var self = this;
        console.log("username ===> ", self.username);
        console.log("password ===> ", self.password);
        if (self.username.trim() == "" || self.password.trim() == "") {
            var toast = Toast.makeText("มีช่องว่างนะไอ้โง่");
            toast.show();
            return false;
        }
        else {
            return true;
        }
    };
    return LoginComponent;
}());
LoginComponent = __decorate([
    core_1.Component({
        selector: "Login",
        templateUrl: "views/setting/login/login-component.html",
    }),
    __metadata("design:paramtypes", [router_1.Router, router_2.RouterExtensions])
], LoginComponent);
exports.LoginComponent = LoginComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naW4tY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibG9naW4tY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxzQ0FBMEM7QUFFMUMsMENBQW1FO0FBQ25FLHNEQUErRDtBQUcvRCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0IsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFPMUMsSUFBYSxjQUFjO0lBUXZCLHdCQUFvQixNQUFjLEVBQVcsZ0JBQW1DO1FBQTVELFdBQU0sR0FBTixNQUFNLENBQVE7UUFBVyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQW1CO1FBTnhFLGFBQVEsR0FBWSxFQUFFLENBQUU7UUFDeEIsYUFBUSxHQUFZLEVBQUUsQ0FBRTtRQUd4QixXQUFNLEdBQVksdUJBQXVCLENBQUM7UUFHOUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBRXBCLENBQUM7SUFFTyxpQ0FBUSxHQUFoQjtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRyxVQUFVLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUEsQ0FBRSxVQUFVLElBQUksSUFBSSxDQUFDLENBQUEsQ0FBQztZQUVwQixJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNULEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFFLFNBQVMsR0FBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBQyxJQUFJLENBQUMsUUFBUTtnQkFDOUQsTUFBTSxFQUFFLEtBQUs7YUFDaEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLFFBQVE7Z0JBRXRCLElBQUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUM7Z0JBQ3JDLE9BQU8sQ0FB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V0FBVyxFQUFFLDBDQUEwQztLQUMxRCxDQUFDO3FDQVM4QixlQUFNLEVBQThCLHlCQUFnQjtHQVJ2RSxjQUFjLENBNkYxQjtBQTdGWSx3Q0FBYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL215RnVuY3Rpb24xXCI7XHJcbmltcG9ydCB7IFJvdXRlciwgTmF2aWdhdGlvbkV4dHJhcyAsIFJvdXRlIH0gZnJvbSBcIkBhbmd1bGFyL3JvdXRlclwiOyBcclxuaW1wb3J0IHsgUm91dGVyRXh0ZW5zaW9ucyB9IGZyb20gXCJuYXRpdmVzY3JpcHQtYW5ndWxhci9yb3V0ZXJcIjtcclxuXHJcblxyXG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xyXG52YXIgVG9hc3QgPSByZXF1aXJlKFwibmF0aXZlc2NyaXB0LXRvYXN0XCIpO1xyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6IFwiTG9naW5cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL3NldHRpbmcvbG9naW4vbG9naW4tY29tcG9uZW50Lmh0bWxcIixcclxufSlcclxuZXhwb3J0IGNsYXNzIExvZ2luQ29tcG9uZW50IHtcclxuXHJcbiAgICBwcml2YXRlIHVzZXJuYW1lIDogc3RyaW5nID0gXCJcIiA7XHJcbiAgICBwcml2YXRlIHBhc3N3b3JkIDogc3RyaW5nID0gXCJcIiA7XHJcbiAgXHJcblxyXG4gICAgcHJpdmF0ZSBzdHJVUkwgOiBzdHJpbmcgPSBcImh0dHA6Ly8xOTIuOS45LjExMjozMFwiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcm91dGVyOiBSb3V0ZXIgLCBwcml2YXRlIHJvdXRlckV4dGVuc2lvbnMgOiBSb3V0ZXJFeHRlbnNpb25zICl7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnRuTG9naW4oKXtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNoZWNrRW1wdHkgPSBzZWxmLmNoZWNrRW1wdHkoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImVtcHR5IHdvcmQgID09PlwiICwgY2hlY2tFbXB0eSk7XHJcbiAgICAgICAgaWYoIGNoZWNrRW1wdHkgPT0gdHJ1ZSl7XHJcblxyXG4gICAgICAgICAgICBodHRwLnJlcXVlc3QoeyBcclxuICAgICAgICAgICAgICAgIHVybDogc2VsZi5zdHJVUkwgK1wiL2xvZ2luL1wiKyBzZWxmLnVzZXJuYW1lICsgXCIvXCIrc2VsZi5wYXNzd29yZCwgXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIgXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGF0dXMgY29kZSA9PiBcIiAsIHN0YXR1c0NvZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYoc3RhdHVzQ29kZSAhPSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2FzdCA9IFRvYXN0Lm1ha2VUZXh0KFwi4LmE4Lih4LmI4Lih4Li1IHVzZXIg4LmB4Lil4LiwIHBhc3N3b3JkIOC4meC4teC5ieC5g+C4meC4o+C4sOC4muC4mlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdC5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yb3V0ZXJFeHRlbnNpb25zLm5hdmlnYXRlKFtcIi4vbWFpblwiXSwgeyBjbGVhckhpc3Rvcnk6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWxmLnJvdXRlckV4dGVuc2lvbnMubmF2aWdhdGUoW1widXNlci9saXN0XCJdLCB7IGNsZWFySGlzdG9yeTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBlbHNlIHN0YXR1c0NvZGVcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgey8vLy8gQXJndW1lbnQgKGUpIGlzIEVycm9yIVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBpcyBcIiAsIGUpOyAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0vLyBFbmQgaWYgY2hlY2tFbXB0eVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbXlSZXN1bHRSZXR1cm4oKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidG5DaGVjaygpe1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIGh0dHAucmVxdWVzdCh7IFxyXG4gICAgICAgICAgICAgICAgdXJsOiBzZWxmLnN0clVSTCArXCIvdXNlcnMvMVwiICwgXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIgXHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XHJcbiAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhdHVzIGNvZGUgPT4gXCIgLCBzdGF0dXNDb2RlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcblxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7Ly8vLyBBcmd1bWVudCAoZSkgaXMgRXJyb3IhXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIGlzIFwiICwgZSk7ICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBodHRwTG9naW4oKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm9uID0+IGh0dHAgTG9naW5cIik7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrRW1wdHkoKXtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1c2VybmFtZSA9PT0+IFwiICwgc2VsZi51c2VybmFtZSApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGFzc3dvcmQgPT09PiBcIiAsIHNlbGYucGFzc3dvcmQpO1xyXG5cclxuICAgICAgICBpZihzZWxmLnVzZXJuYW1lLnRyaW0oKSA9PSBcIlwiIHx8IHNlbGYucGFzc3dvcmQudHJpbSgpID09XCJcIil7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgdG9hc3QgPSBUb2FzdC5tYWtlVGV4dChcIuC4oeC4teC4iuC5iOC4reC4h+C4p+C5iOC4suC4h+C4meC4sOC5hOC4reC5ieC5guC4h+C5iFwiKTtcclxuICAgICAgICAgICAgdG9hc3Quc2hvdygpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcblxyXG5cclxufVxyXG4iXX0=